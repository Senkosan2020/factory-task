{% extends "base.html" %}
{% block title %}Profile{% endblock %}

{% block content %}
  <div class="profile-container">
    <aside class="vertical-toolbar">
      <nav>
        <ul>
          <li><a href="#" class="inactive-link">Works</a></li>
        </ul>
      </nav>
    </aside>
    <section class="content-area">
      {% if worker %}
        <form method="post" action="{% url 'toggle_at_work' %}">
          {% csrf_token %}
          <button type="submit" class="work-button">
            {% if worker.at_work %}
              Exit from work
            {% else %}
              Enter to work
            {% endif %}
          </button>
        </form>

        <h2>Personal Information</h2>
        <ul class="profile-list">
          <li><strong>Worker ID:</strong> {{ worker.worker_id }}</li>
          <li><strong>First Name:</strong> {{ worker.first_name }}</li>
          <li><strong>Last Name:</strong> {{ worker.last_name }}</li>
          <li><strong>Box:</strong> {{ worker.box }}</li>
          <li><strong>Specializations:</strong>
            {% for spec in worker.specializations.all %}
              {{ spec.specialization }}{% if not forloop.last %}, {% endif %}
            {% empty %}
              None
            {% endfor %}
          </li>
          <li><strong>Works:</strong>
            {% for w in worker.works.all %}
              {{ w.id_work }}{% if not forloop.last %}, {% endif %}
            {% empty %}
              None
            {% endfor %}
          </li>
          <li><strong>At Work:</strong> {% if worker.at_work %}Yes{% else %}No{% endif %}</li>
        </ul>
      {% else %}
        <p>Please <a href="{% url 'login' %}">log in</a> to view your profile.</p>
      {% endif %}
    </section>
  </div>
{% endblock %}
